# .profile

# Set the GPG_TTY to be the same as the TTY, either via the env var or via the tty command.
export GPG_TTY=${TTY:-$(tty)}

# XDG base directory specification
export XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"
export XDG_CACHE_HOME="${XDG_CACHE_HOME:-$HOME/.cache}"
export XDG_DATA_HOME="${XDG_DATA_HOME:-$HOME/.local/share}"
export XDG_STATE_HOME="${XDG_STATE_HOME:-$HOME/.local/state}"
export XDG_RUNTIME_DIR="${XDG_RUNTIME_DIR:-/run/user/$(id -u)}"
# Set the PATH so it includes user's private bin if it exists
export PATH="$HOME/.local/bin:$PATH"

# Enable using nvim as default editor of other programs.
# Setting ALTERNATE_EDITOR like this make nano default, if it can't be found.
export EDITOR=nvim
export ALTERNATE_EDITOR=helix

# Set default pager
export VISUAL="$EDITOR"

# Hardcode the non-xdg compliant files
export INPUTRC="$XDG_CONFIG_HOME/readline/inputrc"

# Make gnupg compliant with xdg
export GNUPGHOME="$XDG_DATA_HOME/gnupg"

# Set the password store directory
export PASSWORD_STORE_DIR="$XDG_DATA_HOME"/pass

# Set the cargo home
export CARGO_HOME="$XDG_DATA_HOME"/cargo
export PATH="$PATH:$CARGO_HOME/bin"

# Readable time format
export HISTTIMEFORMAT="%F %T "

# Avoid duplicates in history
export HISTCONTROL=ignorespace:erasedups

# Increase history size. Doesn't apper to slow things down, so why not?
export HISTSIZE=524288
export HISTFILESIZE=131072

# Don't record some commands
export HISTIGNORE="&:[ ]*:ls:[bf]g:exit:history:pwd:clear:cd:cd -:cd ..:cd ~:cd -"

# This defines where cd looks for targets
# Add the directories you want to have fast access to, separated by colon
export CDPATH=".:~"

# Exlude "." and ".." from glob expansion
export GLOBIGNORE=".:.."

# Set less options
export LESS='-R --use-color'

# Man pages
export MANPAGER='nvim +Man!'

# Ripgrep config
export RIPGREP_CONFIG_PATH="$XDG_CONFIG_HOME/ripgrep/config"

# Remove npm from $HOME
export NPM_CONFIG_USERCONFIG=$XDG_CONFIG_HOME/npm/npmrc

# Make RYE_HOME compliant with XDG Base Directory Specification
export RYE_HOME="$XDG_CACHE_HOME/rye"

# Set user-dirs that are not in xdg standard
XDG_PROJECTS_DIR="$HOME/Projects"
XDG_GAMES_DIR="$XDG_DATA_HOME/games"
